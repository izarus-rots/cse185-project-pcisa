# cse185 project PCisA

PCisA is a na√Øve Python implementation of principal component analysis (PCA) in the place of `scanpy` PCA, meant to be used in conjunction with `anndata`.
[comment]: <> (https://github.com/izarus-rots/cse185-project-pcisa)

# Installation

Installation requires several packages (`anndata`, `numpy`, `pandas`, and `scipy`). You can install these with:

```
pip install anndata numpy pandas scipy
```

## Basic Installation
To install, clone the repo, navigate to the directory, and install with pip:

```
git clone https://github.com/izarus-rots/cse185-project-pcisa
cd cse185-project-pcisa
pip install -e .
```

## Local Installation
For local install (ex: in Jupyter notebook), use:
```
git clone https://github.com/izarus-rots/cse185-project-pcisa
cd cse185-project-pcisa
pip install --user -e .
```

Sometimes, the user directory is not on the system PATH. You can find the path with `python -m site --user-base`, and add the following line to your `.bashrc` or `.bash_profile` file.: 

```
export PATH=$PATH:`python -m site --user-base`/bin
``` 

Update your PATH with `source ~/.bashrc` or `source ~/.bash_profile`.

If the install worked, typing `pcisa -h` should show the help menu with basic usage instructions.

# Usage

PCisA's basic usage:

```
pcisa -f DATA -n N
```

where `DATA` expects the path to a high-dimensional matrix and `N` expects a number greater than zero.

To run PCisA on the test example provided in this repository, you can run

```
pcisa -f example-files/poisson.h5ad -n 2
```

## All Options

Required inputs are a matrix-like file and a value `n_pcs`. Other options can change how the calculation is performed or how the output will be given:
- `--output <filename>` or `-o <filename>`

    Allows you to specify a filename for the output. By default, outputs as `'pca_results.csv'`.

- `--outputdir <directory>` or `-d <directory>`

    Allows you to specify a location for the output. By default, outputs to the current directory `.`.
- `--plot` or `-p`

    Generates a quick plot for the PC results (only uses top two PCs). Default: `False`.

# Contributors

This repository was generated by Isabella Garcia for the Spring 2024 quarter CSE 185 final project. It takes inspiration from [scanpy](https://scanpy.readthedocs.io/en/stable/).

Please submit a pull request with any corrections or suggestions.
